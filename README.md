# Счётчик гостов
Данное приложение позволяет рассчитать результаты игры на основе предоставленных гостов и счетов реальных матчей. Программа разработана специально для целей турнира "UFO League".

## Установка
Приложение совместимо с операционной системой Windows. Для загрузки требуется как минимум 80 МБ свободной памяти.

Если у вас уже установлен интерпретатор Python 3 и библиотека PyQt5, вы можете скачать [версию с исходным кодом](https://github.com/Mednaceex/Gost_Counter_Python).

Чтобы установить приложение, скачайте zip-архив (зелёная кнопка Code -> Download ZIP) и распакуйте его.

Для запуска программы откройте файл "Счётчик гостов.exe".

## Использование

### Общие настройки
Во вкладке "Настройки" можно установить количество участвующих команд, количество матчей в госте и наличие дополнительной ставки. Чтобы сохранить введённые настройки, нажмите "OK". После этого количество окошек для ввода будет соответствовать введённым значениям. Максимально допустимые значения - 200 игроков и 15 матчей.

## Использование
**Важно:** При запуске программы сначала открывается окно с командной строкой. Самому приложению может потребоваться некоторое время, чтобы запуститься. Не закрывайте окно с командной строкой — это приведёт и к закрытию приложения.

### Настройка команд и тренеров
Для настройки названий команд и имён тренеров откройте вкладку "Изменить команды". Проверьте правильность имеющихся данных и при необходимости измените их. Чтобы сохранить введённые данные, нажмите "OK". Кнопка "Cancel" отменит все изменения.
Учтите, что при следующем запуске вкладки команды будут отсортированы в алфавитном порядке. Названия и имена, введённые по умолчанию, соответствуют таковым в турнире "UFO League" на момент 5 января 2022 года.

### Настройка матчей
Для настройки матчей зайдите во вкладку "Настройка матчей" и настройте матчи согласно расписанию тура, выбирая команды из выпадающего списка. Также можно прокручивать команды колёсиком мыши. Отметьте при необходимости поле "Домашний фактор", чтобы учесть преимущество домашнего поля (засчитывание гола домашней команде, если оба игрока угадали счёт матча). Чтобы сохранить матчи, нажмите "OK". Кнопка "Cancel" отменит все изменения.

В случае, если какие-либо команды в расписании повторяются, об этом будет выведено сообщение при подсчёте результатов.

### Ввод счетов реальных матчей
Введите счета матчей госта по порядку в поля с номерами матчей в верхней части окна. Если хотя бы одно из двух окошек матча не заполнено, он не будет учитываться при подсчёте. Для быстрого переключения между окошками используйте Tab (перемещение на одно поле вправо) или Shift+Tab (на одно поле влево).

### Ввод текстов гостов
У каждой команды есть поле ввода текста, куда можно вставить скопированный текст госта. Текст ставки должен быть представлен в виде x-y (x и y — целые числа без разделительных знаков), где на месте "-" также могут быть символы "—", ":", "-:-", "—:—".

Если количество таких ставок в госте нужное количество (по умолчанию — 8), гост будет обработан, в противном случае программа выдаст ошибку при подсчёте и засчитает 0 голов. Чтобы посчитать неполный гост, выберите галочками под полем ввода номера матчей, которых нет в госте. Например, если в госте есть все матчи, кроме восьмого, нажмите галочку с номером 8.

В случае, если требуется исключить определённые ставки из госта (например, гост был сдан позднее дедлайна), это можно также сделать галочками, но только в том случае, если сданный гост полный (8 ставок).
Если же ставок меньше, необходимо удалить из текста все те, которые не должны быть посчитаны, и отменить галочками как их номера, так и изначально отсутствовавших матчей.

**Важно:** Из-за того что символы ":" и "-" используется как разделители в записи счетов, не допускайте их появления в тексте госта в непредвиденном месте. Например, удаляйте из текста время и дату дедлайна или время отправки сообщения, т.к. они могут содержать эти разделительные символы, окружённые цифрами, что будет воспринято как ставка.

### Сохранение, расчёт результатов и очистка полей.
Чтобы сохранить введённые данные, нажмите кнопку "Сохранить".

Для расчёта результатов нажмите кнопку "Рассчитать". В появившемся окне можно увидеть результаты и скопировать их. Помимо этого, будет выведена информация об имеющихся ошибках в гостах и расписании. Кнопка "Рассчитать" также сохраняет данные.

Кнопка "Очистить" сбрасывает введённые счета матчей, тексты гостов и нажатые галочки.

### Добавление новых лиг

Вы можете добавлять, переименовывать и удалять лиги в меню настроек лиг. Для этого нажмите кнопку "Текущая лига". Для каждой лиги существует отдельный список команд, матчей, настройки и сохранённые данные. По умолчанию настройки каждой созданной лиги - 10 игроков, 8 матчей без дополнительной ставки, это можно в дальнейшем изменить в окне настроек. Названия лиг не могут быть пустыми или повторяющимися. Нельзя удалить выбранную в данный момент лигу. При выборе лиги автоматически обновляются все окна, а на кнопке "Текущая лига" будет отображено название лиги.

## Нашли ошибку?
Вы можете оставлять отчёты об ошибках на вкладке Issues. Мы будем вам очень признательны за вашу помощь.
